"use strict";angular.module("generatorFacturaApp",["foundation","ngRoute"]).config(["$routeProvider",function(a){a.when("/:lang/:id",{templateUrl:"views/main.html",controller:"MainCtrl as f",resolve:{postPromise:["$bill","$route",function(a,b){return a.init(b.current.params.id)}]}})}]),angular.module("generatorFacturaApp").controller("MainCtrl",["$bill","$routeParams","$http",function(a,b,c){this.bill=a.factura(),console.log(this.bill);var d={ro:{data:"Data",f_title:"Factura Fiscala",serie:"Serie",numar:"Numar",furnizor:"Furnizor",cumparator:"Cumparator",name:"Denumirea firmei",cif:"Codul unic de identificare",orc:"Numar ordin ORC",sediu:"Sediul",oras:"Oras",judet:"Judet",tara:"Tara",banca:"Banca",cont:"IBAN",total:"TOTAL"},en:{data:"Date",f_title:"Invoice",serie:"Series",numar:"Number",furnizor:"Seller",cumparator:"Buyer",name:"Company name",cif:"Unique Registry Number",orc:"ORC Registry Number",sediu:"Headquarters",oras:"City",judet:"County/Region",tara:"Country",banca:"Bank",cont:"IBAN",total:"TOTAL"}};this.getWidth=function(a){return{width:0!=a?""+(45-15*(this.bill.columns.length-2))+"%":"55%"}},this.getLineWidth=function(a){return{width:0!=a?""+(45-15*(this.bill.columns.length-2))+"%":"45%"}},this.int8n=d[b.lang]}]).service("$bill",["$http",function(a){function b(a){if(void 0===a)return 0;for(var b=0,c=0;c<a.length;c++)b+=a[c].amount;return b}var c="http://localhost:8080/facturi/",d={};this.init=function(e){return a.get(c+e).success(function(a){return d=a,d.total=b(d.products),angular.forEach(d.products,function(a){a.lines=[a.amount]}),d.columns=["PRODUCT","VALUE"],d})},this.factura=function(){return d}}]);